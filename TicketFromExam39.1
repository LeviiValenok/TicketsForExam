#include <stdio.h>
#include <stdlib.h>
void SwapStrings(int** matrix, int n, int m);
int main()
{
	int n, m;
	int** matrix;
	printf("Enter a number of strings: \n");
	scanf_s("%d", &n);
	printf("Enter a number of columns: \n");
	scanf_s("%d", &m);

	printf("Enter a matrix: \n");
	matrix = (int**)calloc(n, sizeof(int*));
	for (int i = 0; i < n; i++)
	{
		matrix[i] = (int*)calloc(m, sizeof(int));
		for (int j = 0; j < m; j++)
		{
			printf("[%d][%d]", i, j);
			scanf_s("%d", &matrix[i][j]);
		}
	}
	printf("\n");

	for (int i = 0; i < n; i++)
	{
		for (int j = 0; j < m; j++)
		{
			printf("%5d", matrix[i][j]);
		}
		printf("\n");
	}

	SwapStrings(matrix, n, m);

	for (int i = 0; i < n; i++)
	{
		for (int j = 0; j < m; j++)
		{
			printf("%5d", matrix[i][j]);
		}
		printf("\n");
	}


	for (int i = 0; i < n; i++)
	{
		free(matrix[i]);
	}
	free(matrix);
	return 0;
}

void SwapStrings(int** matrix, int n, int m)
{
	int min = 0, max = 0, counter = 0, temp = 0;

	for (int i = 0; i < n; i++)
	{
		for (int j = 0; j < m; j++)
		{
			if (matrix[i][j] % 2 != 0)
			{
				counter++;
			}
			if (temp > counter)
			{
				min = i;
			}
			else
			{
				max = i;
			}
			temp = counter;
		}
		counter = 0;
		//printf("\n");
	}

	printf("\n");

	//printf("max is : %d. min is: %d\n", max + 1, min + 1);
	int j = 0;
	while (j < m)
	{
		temp = matrix[min][j];
		matrix[min][j] = matrix[max][j];
		matrix[max][j] = temp;
		j++;
	}

}
